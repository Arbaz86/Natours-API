{"mappings":"AEAO,MAAM,4CAAY,IAAM;IAC7B,MAAM,KAAK,SAAS,aAAa,CAAC;IAClC,IAAI,IAAI,GAAG,aAAa,CAAC,WAAW,CAAC;AACvC;AAGO,MAAM,4CAAY,CAAC,MAAM,UAAY;IAC1C;IACA,MAAM,SAAS,CAAC,yBAAyB,EAAE,KAAK,GAAG,EAAE,QAAQ,MAAM,CAAC;IACpE,SAAS,aAAa,CAAC,QAAQ,kBAAkB,CAAC,cAAc;IAEhE,WAAW,IAAM;QACf;IACF,GAAG;AACL;;ADdA;AAGO,MAAM,4CAAQ,OAAO,OAAO,WAAa;IAC9C,gDAAgD;IAChD,QAAQ,GAAG,CAAC;eAAE;kBAAO;IAAS;IAE9B,IAAI;QACF,2FAA2F;QAC3F,MAAM,MAAM,MAAM,MAAM,4CAA4C;YAClE,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;YACA,MAAM,KAAK,SAAS,CAAC;uBACnB;0BACA;YACF;QACF;QAEA,4BAA4B;QAC5B,IAAI,OAAO,MAAM,IAAI,IAAI;QAEzB,2CAA2C;QAC3C,QAAQ,GAAG,CAAC;QAEZ,wFAAwF;QACxF,IAAI,KAAK,MAAM,KAAK,WAAW;YAC7B,CAAA,GAAA,yCAAS,AAAD,EAAE,WAAW;YAErB,WAAW,IAAM;gBACf,SAAS,MAAM,CAAC;YAClB,GAAG;QACL,OACE,sEAAsE;QACtE,CAAA,GAAA,yCAAQ,EAAE,SAAS,KAAK,OAAO;IAEnC,EAAE,OAAO,OAAO;QACd,kGAAkG;QAClG,CAAA,GAAA,yCAAQ,EAAE,SAAS,MAAM,OAAO;IAClC;AACF;AAEO,MAAM,4CAAS,UAAY;IAChC,IAAI;QACF,MAAM,MAAM,MAAM,MAAM;QACxB,MAAM,OAAO,MAAM,IAAI,IAAI;QAE3B,QAAQ,GAAG,CAAC;QAEZ,IAAI,KAAK,MAAM,KAAK,WAAW;YAC7B,CAAA,GAAA,yCAAS,AAAD,EAAE,WAAW;YACrB,SAAS,MAAM;QACjB,CAAC;IACH,EAAE,OAAO,OAAO;QACd,CAAA,GAAA,yCAAS,AAAD,EAAE,SAAS;IACrB;AACF;;ADzDA;AAEA,kDAAkD;AAClD,MAAM,6BAAO,SAAS,aAAa,CAAC;AACpC,MAAM,kCAAY,SAAS,aAAa,CAAC;AAEzC,IAAI,4BACF,4DAA4D;AAC5D,2BAAK,gBAAgB,CAAC,UAAU,CAAC,IAAM;IACrC,kDAAkD;IAClD,EAAE,cAAc;IAEhB,6DAA6D;IAC7D,IAAI,QAAQ,2BAAK,KAAK,CAAC,KAAK;IAC5B,IAAI,WAAW,2BAAK,QAAQ,CAAC,KAAK;IAElC,4DAA4D;IAC5D,CAAA,GAAA,yCAAK,AAAD,EAAE,OAAO;AACf;AAGF,IAAI,iCAAW,gCAAU,gBAAgB,CAAC,SAAS,CAAA,GAAA,yCAAK","sources":["public/js/index.js","public/js/login.js","public/js/alert.js"],"sourcesContent":["import { login, logout } from \"./login\";\r\n\r\n// Selecting the form element using its class name\r\nconst form = document.querySelector(\".form\");\r\nconst logOutBtn = document.querySelector(\".nav__el--logout\");\r\n\r\nif (form) {\r\n  // Adding an event listener to the form for the submit event\r\n  form.addEventListener(\"submit\", (e) => {\r\n    // Preventing the default form submission behavior\r\n    e.preventDefault();\r\n\r\n    // Getting the email and password values from the form inputs\r\n    let email = form.email.value;\r\n    let password = form.password.value;\r\n\r\n    // Calling the login function with email and password values\r\n    login(email, password);\r\n  });\r\n}\r\n\r\nif (logOutBtn) logOutBtn.addEventListener(\"click\", logout);\r\n","import { showAlert } from \"./alert\";\r\n\r\n// Defining a function to handle login\r\nexport const login = async (email, password) => {\r\n  // Logging the email and password to the console\r\n  console.log({ email, password });\r\n\r\n  try {\r\n    // Sending a POST request to the login endpoint with email and password in the request body\r\n    const res = await fetch(\"http://localhost:8080/api/v1/users/login\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        email,\r\n        password,\r\n      }),\r\n    });\r\n\r\n    // Parsing the response data\r\n    let data = await res.json();\r\n\r\n    // Logging the response data to the console\r\n    console.log(data);\r\n\r\n    // Showing an alert message if the login was successful and redirecting to the home page\r\n    if (data.status === \"success\") {\r\n      showAlert(\"success\", \"Logged in Successfully!\");\r\n\r\n      setTimeout(() => {\r\n        location.assign(\"/\");\r\n      }, 1500);\r\n    } else {\r\n      // Showing an alert message with the error message if the login failed\r\n      showAlert(\"error\", data.message);\r\n    }\r\n  } catch (error) {\r\n    // Showing an alert message with the error message if there was an error while sending the request\r\n    showAlert(\"error\", error.message);\r\n  }\r\n};\r\n\r\nexport const logout = async () => {\r\n  try {\r\n    const res = await fetch(\"http://localhost:8080/api/v1/users/logout\");\r\n    const data = await res.json();\r\n\r\n    console.log(data);\r\n\r\n    if (data.status === \"success\") {\r\n      showAlert(\"success\", \"Logged Out Successfully!\");\r\n      location.reload();\r\n    }\r\n  } catch (error) {\r\n    showAlert(\"error\", \"Error logging out! Try again.\");\r\n  }\r\n};\r\n","export const hideAlert = () => {\r\n  const el = document.querySelector(\".alert\");\r\n  if (el) el.parentElement.removeChild(el);\r\n};\r\n\r\n// type is 'success' or 'error'\r\nexport const showAlert = (type, message) => {\r\n  hideAlert();\r\n  const markup = `<div class=\"alert alert--${type}\" >${message}</div>`;\r\n  document.querySelector(\"body\").insertAdjacentHTML(\"afterbegin\", markup);\r\n\r\n  setTimeout(() => {\r\n    hideAlert();\r\n  }, 5000);\r\n};\r\n"],"names":[],"version":3,"file":"bundle.js.map","sourceRoot":"../../"}